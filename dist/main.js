!function(){var e={"./src/App.tsx":function(e,t,n){"use strict";n.r(t),n("./src/pages/Flow/index.tsx");function o(e,t,n){return(o=c()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&s(r,n.prototype),r}).apply(null,arguments)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)})(e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var t,n,o,u,a,l=(t=d,n=c(),function(){var e,o,r,s=i(t);return r=n?Reflect.construct(s,arguments,i(this).constructor):s.apply(this,arguments),e=this,(o=r)&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)||"function"==typeof o)?o:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)});function d(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d),(e=l.call(this)).render(),e}return o=d,u=[{key:"render",value:function(){var e;this.innerHTML="".concat(((e=document.createElement("div")).innerHTML="\n        <div>\n            <flow-root></flow-root>    \n        </div>\n    ",e).innerHTML)}}],r(o.prototype,u),d}(u(HTMLElement));customElements.define("app-root",a)},"./src/components/Board/index.tsx":function(e,t,n){"use strict";n.r(t);var o=n("./src/util/builder.tsx"),r=n("./src/components/EdgesBoard/index.tsx"),i=n("./src/components/NodesBoard/index.tsx");function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return(c=v()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&f(r,n.prototype),r}).apply(null,arguments)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){l(e,t,n[t])})}return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t="function"==typeof Map?new Map:void 0;return(y=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return c(e,arguments,d(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),f(o,e)})(e)}function v(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e,t,n,o){return"edge_".concat(e,":").concat(t,"_").concat(n,":").concat(o)}function b(e){for(var t=[],n=[{}],o=[{}],r=0;r<e.length;r++)for(var i=0;i<e.length;i++)if(r!==i){for(var s=e[r],u=e[i],c=0;c<s.outputs;c++)for(var a=0;a<u.inputs;a++){var l=g(s.id,c,u.id,a);n[l]={x0:0,y0:0,x1:0,y1:0},o[l]=!1,t[l]={outNodeId:s.id,outputIndex:c,inNodeId:u.id,inputIndex:a}}}return{initEdgesNodes:t,initEdgesPositions:n,initEdgesActives:o}}function m(e,t){return{initNodesPositions:e.map(function(e){return e.position}),initNodesData:e.map(function(e){return p({edgesIn:t.map(function(t){return t.targetNode===e.id?g(t.sourceNode,t.sourceOutput,t.targetNode,t.targetInput):"null"}).filter(function(e){return"null"!==e}),edgesOut:t.map(function(t){return t.sourceNode===e.id?g(t.sourceNode,t.sourceOutput,t.targetNode,t.targetInput):"null"}).filter(function(e){return"null"!==e})},e)}),initNodesOffsets:e.map(function(e){return{inputs:h(Array(e.inputs)).map(function(){return{offset:{x:0,y:0}}}),outputs:h(Array(e.outputs)).map(function(){return{offset:{x:0,y:0}}})}})}}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(x,e);var t,n,s,c,y,O=(t=x,n=v(),function(){var e,o,r,i=d(t);return r=n?Reflect.construct(i,arguments,d(this).constructor):i.apply(this,arguments),e=this,(o=r)&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)||"function"==typeof o)?o:u(e)});function x(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,x),l(u(t=O.call(this)),"props",void 0),l(u(t),"edgesNodes",void 0),l(u(t),"edgesPositions",void 0),l(u(t),"edgesActives",void 0),l(u(t),"nodesPositions",void 0),l(u(t),"nodesData",void 0),l(u(t),"nodesOffsets",void 0),l(u(t),"clickedDelta",void 0),l(u(t),"newEdge",void 0),t.props=e;var t,n=b(t.props.nodes),o=n.initEdgesNodes,r=n.initEdgesPositions,i=n.initEdgesActives;t.setEdgesNodes(o),t.setEdgesPositions(r),t.setEdgesActives(i);var s=m(t.props.nodes,t.props.edges),c=s.initNodesPositions,a=s.initNodesData,d=s.initNodesOffsets;return t.setNodesPositions(c),t.setNodesData(a),t.setNodesOffsets(d),t.setClickedDelta({x:0,y:0}),t.setNewEdge(null),t}return s=x,c=[{key:"setEdgesNodes",value:function(e){this.edgesNodes=e}},{key:"setEdgesPositions",value:function(e){this.edgesPositions=e}},{key:"setEdgesActives",value:function(e){this.edgesActives=e}},{key:"setNodesPositions",value:function(e){this.nodesPositions=e}},{key:"setNodesData",value:function(e){this.nodesData=e}},{key:"setNodesOffsets",value:function(e){this.nodesOffsets=e}},{key:"setClickedDelta",value:function(e){this.clickedDelta=e}},{key:"setNewEdge",value:function(e){this.newEdge=e,this.render()}},{key:"connectedCallback",value:function(){}},{key:"render",value:function(){if(this.props.nodes.length!==this.nodesData.length){var e=b(this.props.nodes),t=e.initEdgesNodes,n=e.initEdgesPositions,o=e.initEdgesActives;this.setEdgesNodes(t),this.setEdgesPositions(n),this.setEdgesActives(o);var s=m(this.props.nodes,this.props.edges),u=s.initNodesPositions,c=s.initNodesData,a=s.initNodesOffsets;this.setNodesPositions(u),this.setNodesData(c),this.setNodesOffsets(a)}var l=new i.default({nodesPositions:this.nodesPositions,nodes:this.nodesData,onNodeMount:this.handleOnNodeMount,onNodePress:this.handleOnNodePress,onNodeMove:this.handleOnNodeMove,onNodeDelete:this.handleOnNodeDelete,onOutputMouseDown:this.handleOnOutputMouseDown,onInputMouseUp:this.handleOnInputMouseUp,onMouseUp:this.handleOnMouseUp,onMouseMove:this.handleOnMouseMove}),d=new r.default({newEdge:this.newEdge,edgesActives:this.edgesActives,edgesPositions:this.edgesPositions,onDeleteEdge:this.handleOnDeleteEdge});this.innerHTML='\n        <div class="main">\n            <div class="wrapper">\n                <div class="content" style='.concat({cursor:null!==this.newEdge?"crosshair":"inherit"},">\n                    ").concat(l.outerHTML,"\n                    ").concat(d.outerHTML,"\n                </div>\n            </div>\n        </div>\n        ")}},{key:"handleOnNodeMount",value:function(e){var t,n,r,i=this,s=(0,o.produce)(function(t){i.nodesOffsets[e.nodeIndex].inputs=e.inputs,i.nodesOffsets[e.nodeIndex].outputs=e.outputs});this.setNodesOffsets(s(this.nodesOffsets));this.setEdgesActives((t=p({},this.edgesActives),i.nodesData[e.nodeIndex].edgesIn.map(function(e){t[e]=!0}),i.nodesData[e.nodeIndex].edgesOut.map(function(e){t[e]=!0}),t));this.setEdgesPositions((r=p({},n=this.edgesPositions),i.nodesData[e.nodeIndex].edgesIn.map(function(t){var o,s;r[t]={x0:(null===(o=n[t])||void 0===o?void 0:o.x0)||0,y0:(null===(s=n[t])||void 0===s?void 0:s.y0)||0,x1:i.nodesPositions[e.nodeIndex].x+e.inputs[i.edgesNodes[t].inputIndex].offset.x,y1:i.nodesPositions[e.nodeIndex].y+e.inputs[i.edgesNodes[t].inputIndex].offset.y}}),i.nodesData[e.nodeIndex].edgesOut.map(function(t){var o,s;r[t]={x0:i.nodesPositions[e.nodeIndex].x+e.outputs[i.edgesNodes[t].outputIndex].offset.x,y0:i.nodesPositions[e.nodeIndex].y+e.outputs[i.edgesNodes[t].outputIndex].offset.y,x1:(null===(o=n[t])||void 0===o?void 0:o.x1)||0,y1:(null===(s=n[t])||void 0===s?void 0:s.y1)||0}}),r))}},{key:"handleOnNodePress",value:function(e,t){this.setClickedDelta({x:e,y:t})}},{key:"handleOnNodeMove",value:function(e,t,n){var o,r,i,s=this;this.setNodesPositions(((o=h(s.nodesPositions))[e].x=t-s.clickedDelta.x,o[e].y=n-s.clickedDelta.y,o));this.setEdgesPositions((i=p({},r=this.edgesPositions),s.nodesData[e].edgesIn.map(function(o){var u,c;s.edgesActives[o]&&(i[o]={x0:(null===(u=r[o])||void 0===u?void 0:u.x0)||0,y0:(null===(c=r[o])||void 0===c?void 0:c.y0)||0,x1:t+s.nodesOffsets[e].inputs[s.edgesNodes[o].inputIndex].offset.x-s.clickedDelta.x,y1:n+s.nodesOffsets[e].inputs[s.edgesNodes[o].inputIndex].offset.y-s.clickedDelta.y})}),s.nodesData[e].edgesOut.map(function(o){var u,c;s.edgesActives[o]&&(i[o]={x0:t+s.nodesOffsets[e].outputs[s.edgesNodes[o].outputIndex].offset.x-s.clickedDelta.x,y0:n+s.nodesOffsets[e].outputs[s.edgesNodes[o].outputIndex].offset.y-s.clickedDelta.y,x1:(null===(u=r[o])||void 0===u?void 0:u.x1)||0,y1:(null===(c=r[o])||void 0===c?void 0:c.y1)||0})}),i))}},{key:"handleOnNodeDelete",value:function(e){var t=this.props.nodes.filter(function(t){return t.id!==e}),n=this.props.edges.filter(function(t){return t.sourceNode!==e&&t.targetNode!==e});this.props.onEdgesChange(n),this.props.onNodesChange(t)}},{key:"handleOnOutputMouseDown",value:function(e,t){var n=this.nodesPositions[e],o=this.nodesOffsets[e].outputs[t].offset;this.setNewEdge({position:{x0:n.x+o.x,y0:n.y+o.y,x1:n.x+o.x,y1:n.y+o.y},sourceNode:e,sourceOutput:t})}},{key:"handleOnInputMouseUp",value:function(e,t){var n,r,i,s,u=this;if((null===(n=this.newEdge)||void 0===n?void 0:n.sourceNode)===e){this.setNewEdge(null);return}var c=JSON.parse(JSON.stringify(this.nodesData[(null===(r=this.newEdge)||void 0===r?void 0:r.sourceNode)||0].edgesOut)),a=JSON.parse(JSON.stringify(this.nodesData[e].edgesIn));if(this.newEdge){var l=this.nodesData[(null===(i=this.newEdge)||void 0===i?void 0:i.sourceNode)||0].id,d=this.nodesData[e].id,f=g(l,(null===(s=this.newEdge)||void 0===s?void 0:s.sourceOutput)||0,d,t),h=!1;if(c.includes(f)&&(h=!0),a.includes(f)&&(h=!0),!h){this.setEdgesPositions(((w=p({},this.edgesPositions))[f]={x0:u.nodesPositions[(null===(y=u.newEdge)||void 0===y?void 0:y.sourceNode)||0].x+u.nodesOffsets[(null===(v=u.newEdge)||void 0===v?void 0:v.sourceNode)||0].outputs[(null===(b=u.newEdge)||void 0===b?void 0:b.sourceOutput)||0].offset.x,y0:u.nodesPositions[(null===(m=u.newEdge)||void 0===m?void 0:m.sourceNode)||0].y+u.nodesOffsets[(null===(O=u.newEdge)||void 0===O?void 0:O.sourceNode)||0].outputs[(null===(x=u.newEdge)||void 0===x?void 0:x.sourceOutput)||0].offset.y,x1:u.nodesPositions[e].x+u.nodesOffsets[e].inputs[t].offset.x,y1:u.nodesPositions[e].y+u.nodesOffsets[e].inputs[t].offset.y},w));this.setEdgesActives(((E=p({},this.edgesActives))[f]=!0,E));var y,v,b,m,O,x,w,E,N=(0,o.produce)(function(t){var n;u.nodesData[(null===(n=u.newEdge)||void 0===n?void 0:n.sourceNode)||0].edgesOut.push(f),t[e].edgesIn.push(f)});this.setNodesData(N(this.nodesData));for(var P=Object.keys(this.edgesActives),k=[],M=0;M<P.length;M++)if(this.edgesActives[P[M]]){var j=this.edgesNodes[P[M]];k.push({id:P[M],sourceNode:j.outNodeId,sourceOutput:j.outputIndex,targetNode:j.inNodeId,targetInput:j.inputIndex})}this.props.onEdgesChange(k)}this.setNewEdge(null)}}},{key:"handleOnMouseUp",value:function(){this.setNewEdge(null)}},{key:"handleOnMouseMove",value:function(e,t){var n,o,r,i,s,u;null!==this.newEdge&&this.setNewEdge({position:{x0:(null===(o=this.newEdge)||void 0===o?void 0:null===(n=o.position)||void 0===n?void 0:n.x0)||0,y0:(null===(i=this.newEdge)||void 0===i?void 0:null===(r=i.position)||void 0===r?void 0:r.y0)||0,x1:e,y1:t},sourceNode:(null===(s=this.newEdge)||void 0===s?void 0:s.sourceNode)||0,sourceOutput:(null===(u=this.newEdge)||void 0===u?void 0:u.sourceOutput)||0})}},{key:"handleOnDeleteEdge",value:function(e){var t,n=this,r=(0,o.produce)(function(t){var o=n.edgesNodes[e].outNodeId,r=n.edgesNodes[e].inNodeId,i=t.findIndex(function(e){return e.id===o}),s=t.findIndex(function(e){return e.id===r});t[s].edgesIn=t[s].edgesIn.filter(function(t){return t!==e}),t[i].edgesOut=t[i].edgesOut.filter(function(t){return t!==e})});this.setNodesData(r(this.nodesData));this.setEdgesActives(((t=p({},this.edgesActives))[e]=!1,t));for(var i=Object.keys(this.edgesActives),s=[],u=0;u<i.length;u++)if(this.edgesActives[i[u]]){var c=this.edgesNodes[i[u]];s.push({id:i[u],sourceNode:c.outNodeId,sourceOutput:c.outputIndex,targetNode:c.inNodeId,targetInput:c.inputIndex})}this.props.onEdgesChange(s)}}],a(s.prototype,c),x}(y(HTMLElement));customElements.define("flow-chart",O),t.default=O},"./src/components/EdgeComponent/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o=n("./src/util/builder.tsx");function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return(i=d()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&a(r,n.prototype),r}).apply(null,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return i(e,arguments,c(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a(o,e)})(e)}function d(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,n,i,l,p,f=(t=h,n=d(),function(){var e,o,i,s=c(t);return i=n?Reflect.construct(s,arguments,c(this).constructor):s.apply(this,arguments),e=this,(o=i)&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)||"function"==typeof o)?o:r(e)});function h(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,h),u(r(t=f.call(this)),"props",void 0),u(r(t),"middlePoint",void 0),t.props=e,t.middlePoint={x:e.position.x0+(e.position.x1-e.position.x0)/2,y:e.position.y0+(e.position.y1-e.position.y0)/2},t.render(),t}return i=h,l=[{key:"setMiddlePoint",value:function(e){this.middlePoint=e}},{key:"render",value:function(){var e=this;if(this.props){var t=this.props.position.x0+(this.props.position.x1-this.props.position.x0)/2,n=this.props.position.y0+(this.props.position.y1-this.props.position.y0)/2;this.setMiddlePoint({x:t,y:n});var r=document.createElement("path");r.className=this.props.isNew?"edgeNew":this.props.selected?"edgeSelected":"edge",r.setAttribute("d","M ".concat(this.props.position.x0," ").concat(this.props.position.y0," C ").concat(this.props.position.x0+this.calculateOffset(Math.abs(this.props.position.x1-this.props.position.x0))," ").concat(this.props.position.y0,", ").concat(this.props.position.x1-this.calculateOffset(Math.abs(this.props.position.x1-this.props.position.x0))," ").concat(this.props.position.y1,", ").concat(this.props.position.x1," ").concat(this.props.position.y1)),r.onclick=this.props.onClickEdge,(0,o.ClickOutside)(r,this.props.onClickOutside);var i="\n            <path\n                class=".concat(this.props.isNew?"edgeNew":this.props.selected?"edgeSelected":"edge","\n                d=").concat("M ".concat(this.props.position.x0," ").concat(this.props.position.y0," C ").concat(this.props.position.x0+this.calculateOffset(Math.abs(this.props.position.x1-this.props.position.x0))," ").concat(this.props.position.y0,", ").concat(this.props.position.x1-this.calculateOffset(Math.abs(this.props.position.x1-this.props.position.x0))," ").concat(this.props.position.y1,", ").concat(this.props.position.x1," ").concat(this.props.position.y1),"\n                onClick=").concat(function(){return e.props.onClickEdge()},"\n                use:clickOutside=").concat(function(){return e.props.onClickOutside()},"\n            />\n                ").concat(this.props.selected&&React.createElement("g",{class:"delete",cursor:"pointer",transform:"translate(".concat(this.middlePoint.x,", ").concat(this.middlePoint.y,")"),onClick:this.props.onClickDelete},React.createElement("circle",{class:"circle"}),React.createElement("svg",{fill:"currentColor","stroke-width":"0",xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"20",height:"20",viewBox:"0 0 20 20",color:"white",x:"-10",y:"-10"},React.createElement("path",{d:"M10.185,1.417c-4.741,0-8.583,3.842-8.583,8.583c0,4.74,3.842,8.582,8.583,8.582S18.768,14.74,18.768,10C18.768,5.259,14.926,1.417,10.185,1.417 M10.185,17.68c-4.235,0-7.679-3.445-7.679-7.68c0-4.235,3.444-7.679,7.679-7.679S17.864,5.765,17.864,10C17.864,14.234,14.42,17.68,10.185,17.68 M10.824,10l2.842-2.844c0.178-0.176,0.178-0.46,0-0.637c-0.177-0.178-0.461-0.178-0.637,0l-2.844,2.841L7.341,6.52c-0.176-0.178-0.46-0.178-0.637,0c-0.178,0.176-0.178,0.461,0,0.637L9.546,10l-2.841,2.844c-0.178,0.176-0.178,0.461,0,0.637c0.178,0.178,0.459,0.178,0.637,0l2.844-2.841l2.844,2.841c0.178,0.178,0.459,0.178,0.637,0c0.178-0.176,0.178-0.461,0-0.637L10.824,10z"}))));this.innerHTML=i}}},{key:"calculateOffset",value:function(e){return 100*e/200}}],s(i.prototype,l),h}(l(HTMLElement));customElements.define("edge-component",p)},"./src/components/EdgesBoard/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,{EdgesBoard:function(){return p}});var o=n("./src/components/EdgeComponent/index.tsx");function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return(i=d()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&a(r,n.prototype),r}).apply(null,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return i(e,arguments,c(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a(o,e)})(e)}function d(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,n,i,l,p,f=(t=h,n=d(),function(){var e,o,i,s=c(t);return i=n?Reflect.construct(s,arguments,c(this).constructor):s.apply(this,arguments),e=this,(o=i)&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)||"function"==typeof o)?o:r(e)});function h(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,h),u(r(t=f.call(this)),"ids",[]),u(r(t),"selected","null"),u(r(t),"props",void 0),t.props=e,t}return i=h,l=[{key:"setIds",value:function(e){this.ids=e,this.render()}},{key:"setSelected",value:function(e){this.selected=e,this.render()}},{key:"connectedCallback",value:function(){var e=this,t=Object.keys(this.props.edgesActives).filter(function(t){return e.props.edgesActives[t]});this.setIds(t),"null"!==this.selected&&null!==this.props.newEdge&&this.setSelected("null")}},{key:"render",value:function(){var e=this;this.innerHTML='\n        <svg class="main">\n            '.concat(null!==this.props.newEdge&&React.createElement(o.default,{selected:!1,isNew:!0,position:{x0:this.props.newEdge.position.x0,y0:this.props.newEdge.position.y0,x1:this.props.newEdge.position.x1,y1:this.props.newEdge.position.y1},onClickDelete:function(){},onClickEdge:function(){},onClickOutside:function(){}}),"\n            ").concat(this.ids.forEach(function(t){var n,r,i,s;if(e.props.edgesActives[t])return React.createElement(o.default,{selected:t===e.selected,isNew:!1,position:{x0:(null===(n=e.props.edgesPositions[t])||void 0===n?void 0:n.x0)||0,y0:(null===(r=e.props.edgesPositions[t])||void 0===r?void 0:r.y0)||0,x1:(null===(i=e.props.edgesPositions[t])||void 0===i?void 0:i.x1)||0,y1:(null===(s=e.props.edgesPositions[t])||void 0===s?void 0:s.y1)||0},onClickDelete:function(){e.props.onDeleteEdge(t)},onClickEdge:function(){e.setSelected(t)},onClickOutside:function(){e.selected===t&&e.setSelected("null")}})}),"\n            \n        </svg>\n        ")}}],s(i.prototype,l),h}(l(HTMLElement));customElements.define("edges-board",p),t.default=p},"./src/components/NodeComponent/index.tsx":function(e,t,n){"use strict";n.r(t);var o=n("./src/util/builder.tsx"),r=n("./src/components/NodeComponent/styles.module.css");function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return(u=h()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&d(r,n.prototype),r}).apply(null,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){var t="function"==typeof Map?new Map:void 0;return(f=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return u(e,arguments,l(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d(o,e)})(e)}function h(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(v,e);var t,n,i,u,f,y=(t=v,n=h(),function(){var e,o,r,i=l(t);return r=n?Reflect.construct(i,arguments,l(this).constructor):i.apply(this,arguments),e=this,(o=r)&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)||"function"==typeof o)?o:s(e)});function v(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,v),a(s(t=y.call(this)),"props",void 0),a(s(t),"inputRefs",void 0),a(s(t),"outputRefs",void 0),t.props=e,t.inputRefs=p(Array(t.props.inputs)),t.outputRefs=p(Array(t.props.outputs));for(var t,n=[],o=[],r=0;r<t.inputRefs.length;r++)n.push({offset:{x:t.inputRefs[0].getBoundingClientRect().x,y:t.inputRefs[0].getBoundingClientRect().y}});for(var i=0;i<t.outputRefs.length;i++)o.push({offset:{x:t.outputRefs[i].getBoundingClientRect().x,y:t.outputRefs[i].getBoundingClientRect().y}});return e.onNodeMount(n,o),t.render(),t}return i=v,u=[{key:"render",value:function(){var e=this,t=document.createElement("div");t.classList.add("node"),t.style.transform="translate(".concat(this.props.x,"px, ").concat(this.props.y,"px)"),t.onmousedown=this.props.onMouseDown;var n=document.createElement("div");n.className=this.props.selected?"actions":"actionsHidden",n.innerHTML="\n        ".concat(this.props.actions&&this.props.actions.delete&&React.createElement("svg",{class:"delete",onClick:function(){e.props.onClickDelete&&e.props.onClickDelete()},fill:"currentColor","stroke-width":"0",baseProfile:"tiny",version:"1.2",viewBox:"4 4 16 16",style:"overflow: visible;"},React.createElement("path",{d:"M12 4c-4.419 0-8 3.582-8 8s3.581 8 8 8 8-3.582 8-8-3.581-8-8-8zm3.707 10.293a.999.999 0 11-1.414 1.414L12 13.414l-2.293 2.293a.997.997 0 01-1.414 0 .999.999 0 010-1.414L10.586 12 8.293 9.707a.999.999 0 111.414-1.414L12 10.586l2.293-2.293a.999.999 0 111.414 1.414L13.414 12l2.293 2.293z"})),"\n        ").concat(this.props.label&&React.createElement("span",{class:"nodeLabel"},this.props.label),'\n        <div class="nodeContent">').concat(this.props.content,"</div>\n\n        ").concat(this.props.inputs>0&&React.createElement("div",{class:"nodeInputs"},p(Array(this.props.inputs).keys()).forEach(function(e,t){r.default.nodeInput})),"\n\n        ").concat(this.props.inputs>0&&React.createElement("div",{class:"nodeInputs"},p(Array(this.props.inputs).keys()).forEach(function(e,t){r.default.nodeInput})),"\n\n        ").concat(this.props.outputs>0&&React.createElement("div",{id:"outputs",class:"nodeOutputs"},p(Array(this.props.outputs).keys()).forEach(function(e,t){})),"\n        "),t.appendChild(n),(0,o.ClickOutside)(t,this.props.onClickOutside),this.appendChild(t)}}],c(i.prototype,u),v}(f(HTMLElement));t.default=y,customElements.define("node-component",y)},"./src/components/NodesBoard/index.tsx":function(e,t,n){"use strict";n.r(t);var o=n("./src/components/NodeComponent/index.tsx");function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return(i=d()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&a(r,n.prototype),r}).apply(null,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return i(e,arguments,c(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a(o,e)})(e)}function d(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,n,i,l,p,f=(t=h,n=d(),function(){var e,o,i,s=c(t);return i=n?Reflect.construct(s,arguments,c(this).constructor):s.apply(this,arguments),e=this,(o=i)&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)||"function"==typeof o)?o:r(e)});function h(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,h),u(r(t=f.call(this)),"props",void 0),u(r(t),"grabbing",void 0),u(r(t),"selected",void 0),u(r(t),"scene",void 0),t.props=e,t}return i=h,l=[{key:"setGrabbing",value:function(e){this.grabbing=e,this.render()}},{key:"setSelected",value:function(e){this.selected=e,this.render()}},{key:"connectedCallback",value:function(){this.grabbing=null,this.selected=null}},{key:"render",value:function(){var e=this,t=document.createElement("div");t.className="main",t.onmousemove=this.handleOnMouseMoveScene,t.onmouseup=this.handleOnMouseUpScene,this.props.nodes.forEach(function(t,n){var r={x:e.props.nodesPositions[n].x,y:e.props.nodesPositions[n].y,selected:e.selected===n,label:t.data.label,content:t.data.content,inputs:t.inputs,outputs:t.outputs};new o.default(r)})}},{key:"handleOnMouseMoveScene",value:function(e){var t=e.x-this.scene.getBoundingClientRect().x,n=e.y-this.scene.getBoundingClientRect().y;null!==this.grabbing&&this.props.onNodeMove(this.grabbing||0,t,n),this.props.onMouseMove(t,n),this.render()}},{key:"handleOnMouseUpScene",value:function(e){this.setGrabbing(null),this.props.onMouseUp(),this.render()}},{key:"handleOnMouseDownNode",value:function(e,t,n){this.setGrabbing(e),this.setSelected(e),this.props.onNodePress(t-this.scene.getBoundingClientRect().x-this.props.nodesPositions[e].x,n-this.scene.getBoundingClientRect().y-this.props.nodesPositions[e].y),this.render()}}],s(i.prototype,l),h}(l(HTMLElement));customElements.define("nodes-board",p),t.default=p},"./src/main.tsx":function(e,t,n){"use strict";n.r(t),n("./src/App.tsx"),n("./src/index.css"),document.getElementById("root").innerHTML="<app-root></app-root>"},"./src/pages/Flow/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,{Flow:function(){return h}});var o=n("./src/components/Board/index.tsx");function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return(i=d()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&a(r,n.prototype),r}).apply(null,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return i(e,arguments,c(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a(o,e)})(e)}function d(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var p=[{id:"node-1",position:{x:50,y:100},data:{content:"This is a simple node"},inputs:0,outputs:1},{id:"node-2",position:{x:350,y:100},data:{label:"Node with label",content:"This is a node with a label"},inputs:1,outputs:1},{id:"node-3",position:{x:350,y:300},data:{content:"This is a node with two inputs and two outputs"},inputs:2,outputs:2},{id:"node-4",position:{x:700,y:100},data:{label:"Only inputs",content:"This is a node with only inputs"},inputs:2,outputs:0}],f=[{id:"edge_0:0_1:0",sourceNode:"node-1",sourceOutput:0,targetNode:"node-2",targetInput:0},{id:"edge_0:0_2:0",sourceNode:"node-1",sourceOutput:0,targetNode:"node-3",targetInput:0},{id:"edge_1:0_3:0",sourceNode:"node-2",sourceOutput:0,targetNode:"node-4",targetInput:0},{id:"edge_2:0_3:1",sourceNode:"node-3",sourceOutput:0,targetNode:"node-4",targetInput:1}],h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(v,e);var t,n,i,l,h,y=(t=v,n=d(),function(){var e,o,i,s=c(t);return i=n?Reflect.construct(s,arguments,c(this).constructor):s.apply(this,arguments),e=this,(o=i)&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)||"function"==typeof o)?o:r(e)});function v(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,v),u(r(e=y.call(this)),"nodes",void 0),u(r(e),"edges",void 0),e.setNodes(p),e.setEdges(f),e.render(),e}return i=v,l=[{key:"setNodes",value:function(e){this.nodes=e}},{key:"setEdges",value:function(e){this.edges=e}},{key:"render",value:function(){var e=this,t=new o.default({nodes:this.nodes,edges:this.edges,onNodesChange:function(t){e.setNodes(t)},onEdgesChange:function(t){e.setEdges(t)}});this.innerHTML=t.outerHTML}}],s(i.prototype,l),v}(l(HTMLElement));customElements.define("flow-root",h)},"./src/util/builder.tsx":function(e,t,n){"use strict";function o(e,t){var n=document.createElement("div");return n.className=t,n.id=e,n}function r(e,t){var n=document.createElement("button");return n.className=t,n.id=e,n}function i(e,t){var n=function(n){!e.contains(n.target)&&t()};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}n.r(t),n.d(t,{ButtonBuilder:function(){return r},ClickOutside:function(){return i},DivBuilder:function(){return o}})},"./src/components/NodeComponent/styles.module.css":function(e,t,n){"use strict";n.r(e.exports={})},"./src/index.css":function(e,t,n){"use strict";n.r(e.exports={})}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.k=function(e){return""+e+".css"},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},!function(){n.g.importScripts&&(e=n.g.location+"");var e,t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length){for(var r=o.length-1;r>-1&&!e;)e=o[r--].src}}if(!e)throw Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n("./src/main.tsx")}();
//# sourceMappingURL=main.js.map